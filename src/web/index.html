<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DarkWord</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="styles/main.css" rel="stylesheet">
</head>
<body> 
    <div class="game-container">
        <!-- Welcome Screen -->
        <div id="welcome-overlay" class="welcome-overlay">
            <div class="welcome-card">
                <div class="flex items-center justify-center gap-2 mb-3">
                    <h1 class="text-xl font-bold m-0 text-gray-900">DarkWord</h1>
                    <span class="bg-[#0079D3] text-white px-2 py-0.5 rounded-full text-xs">Beta</span>
                </div>
                <p class="text-sm text-gray-600 mb-4">
                    Reveal hidden words by strategically blacking out cells.
                </p>
                <div class="grid grid-cols-3 gap-3 mb-4">
                    <div class="feature-box">
                        <i class="fas fa-clock text-lg"></i>
                        <h3 class="text-sm font-semibold mb-1">Timed</h3>
                        <p class="text-xs">Race the clock</p>
                    </div>
                    <div class="feature-box">
                        <i class="fas fa-puzzle-piece text-lg"></i>
                        <h3 class="text-sm font-semibold mb-1">Daily</h3>
                        <p class="text-xs">New puzzles</p>
                    </div>
                    <div class="feature-box">
                        <i class="fas fa-trophy text-lg"></i>
                        <h3 class="text-sm font-semibold mb-1">Compete</h3>
                        <p class="text-xs">Top scores</p>
                    </div>
                </div>
                <div class="flex justify-center gap-3">
                    <button id="start-game" class="btn btn-primary">
                        <i class="fas fa-play"></i> Play
                    </button>
                    <button id="how-to-play" class="btn btn-secondary">
                        <i class="fas fa-book"></i> Help
                    </button>
                </div>
            </div>
        </div>

        <!-- Tutorial Overlay -->
        <div id="tutorial-overlay" class="tutorial-overlay hidden">
            <div class="tutorial-card">
                <h2 class="text-lg font-bold mb-4">How to Play</h2>
                <div class="space-y-3">
                    <div class="tutorial-step">
                        <div class="step-number">1</div>
                        <div>
                            <h3 class="text-sm font-semibold">Examine the Grid</h3>
                            <p class="text-xs">Find hidden words in the letter grid</p>
                        </div>
                    </div>
                    <div class="tutorial-step">
                        <div class="step-number">2</div>
                        <div>
                            <h3 class="text-sm font-semibold">Black Out Cells</h3>
                            <p class="text-xs">Click cells to reveal the crossword</p>
                        </div>
                    </div>
                    <div class="tutorial-step">
                        <div class="step-number">3</div>
                        <div>
                            <h3 class="text-sm font-semibold">Use Hints</h3>
                            <p class="text-xs">3 peeks available to help you</p>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end gap-2 mt-4">
                    <button id="back-to-welcome" class="btn btn-secondary">Back</button>
                    <button id="start-from-tutorial" class="btn btn-primary">Start</button>
                </div>
            </div>
        </div>

        <!-- Game Content -->
        <div id="game-content" class="hidden">
            <!-- Using grid-cols-[250px_1fr] to maintain proportions but adding px-2 for just a bit of outer padding -->
            <div class="grid grid-cols-[250px_1fr] gap-0 px-2 items-start">
                <!-- Clues section -->
                <div id="clues-section" class="clues-section">
                    <h3 class="clues-title">Clues</h3>
                    <div id="clues-list" class="clues-list"></div>
                </div>
                
                <!-- Grid section - using negative margin to pull timer closer -->
                <div class="flex flex-col items-center relative -mt-1">
                    <div id="timer" class="absolute -top-1 right-0 game-timer z-10">
                        <i class="fa fa-clock"></i>
                        <span id="timer-display">00:00</span>
                    </div>
                    
                    <div class="grid-container">
                        <div id="grid" class="game-grid"></div>
                    </div>
                    <!-- Tighter spacing for controls -->
                    <div class="flex gap-2 mt-1">
                        <button id="peek-btn" class="btn btn-secondary">
                            Peek (<span id="peeks-left">3</span>)
                        </button>
                        <button id="submit-btn" class="btn btn-primary">Check</button>
                        <button id="reset-btn" class="btn btn-secondary">Reset</button>
                    </div>
                    <div id="message" class="message"></div>
                </div>
            </div>
        </div>
    </div>
    <script type="module" src="runner.tsx"></script>
</body>
</html>