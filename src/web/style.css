@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Font Import */


/* Core Variables */
:root {
  --primary-color: #0079D3;
  --primary-hover: #0052cc;
  --secondary-color: #1a1a1b;
  --background: #f0f2f5;
  --card-bg: #ffffff;
  --text-primary: #1a1a1b;
  --text-secondary: #4a4a4a;
  --border-color: #e6e6e6;
  --success-color: #28a745;
  --error-color: #dc3545;
  --grid-size: min(calc(100vw - 40px), 280px);
  --cell-size: calc(var(--grid-size) / 7);
  --grid-border: 3px solid #000000;
  --cell-border: 1.5px solid rgba(0, 0, 0, 0.3);
}

/* Base Styles */
@layer base {
  body {
    @apply m-0 p-5 min-h-screen bg-[#f0f2f5] font-sans;
    line-height: 1.5;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    overscroll-behavior-y: none;
  }
}

/* Component Styles */
@layer components {
  /* Welcome Screen */
  .welcome-overlay {
    @apply fixed inset-0 flex items-center justify-center z-[1000] p-5 overflow-y-auto;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
  }

  .welcome-card {
    @apply bg-white/95 backdrop-blur rounded-2xl p-6 md:p-10 max-w-[800px] w-[90%] text-center shadow-xl;
  }

  .feature-box {
    @apply bg-gray-50 p-6 rounded-xl transition-transform hover:-translate-y-1;
  }

  .feature-box i {
    @apply text-4xl text-[#0079D3] mb-4 block;
  }

  /* Tutorial Section */
  .tutorial-overlay {
    @apply fixed inset-0 flex items-center justify-center z-[1001] p-5 overflow-y-auto;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
  }

  .tutorial-card {
    @apply bg-white/95 backdrop-blur rounded-2xl p-10 max-w-[600px] w-[90%] text-center shadow-xl;
  }

  .tutorial-step {
    @apply flex gap-5 mb-6 items-start text-left;
  }

  .step-number {
    @apply w-10 h-10 bg-blue-100 text-[var(--primary-color)] rounded-full flex items-center justify-center font-bold flex-shrink-0;
  }

  /* Game Container */
  .game-container {
    @apply max-w-[1000px] mx-auto bg-white rounded-xl shadow-lg p-4 md:p-6 mt-4 md:mt-10;
    min-height: calc(100vh - 2rem);
  }

  /* Game Header */
  .game-header {
    @apply flex justify-between items-center pb-4 mb-6;
    border-bottom: 2px solid #000;
  }

  .game-title {
    @apply text-3xl font-bold m-0;
    font-family: 'Playfair Display', serif;
    letter-spacing: 0.03em;
  }

  .theme-display {
    @apply bg-blue-100 text-blue-800 px-4 py-1.5 rounded-full text-base font-medium inline-flex items-center gap-2;
  }

  .theme-display i {
    @apply text-blue-600;
  }

  .game-timer {
    @apply font-mono text-2xl font-bold px-6 py-3 rounded-lg inline-flex items-center gap-3;
    background: #f8f9fa;
    border: 2px solid #000;
    color: var(--primary-color);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
  }
  
  .game-timer i {
    @apply text-[var(--primary-color)] text-xl;
  }

  /* Game Layout */
  .game-layout {
    @apply grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-6;
  }

  .grid-section {
    @apply flex flex-col items-center gap-4;
  }

  /* Grid Container */
  .grid-container {
    @apply w-full flex justify-center items-center overflow-visible p-4;
    -webkit-tap-highlight-color: transparent;
  }

  .game-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    width: var(--grid-size);
    height: var(--grid-size);
    border: 4px solid #000; /* Uniform border around the grid */
    border-collapse: collapse; /* Ensures consistent borders */
    padding: 0;
    background: #000; /* Optional: Creates consistent gaps visually */
}
  /* Remove the previous pseudo-elements and use proper borders */
  .cell {
    background: #fff;
    color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    font-size: 1.25rem;
    font-weight: bold;
    user-select: none;
}

  
  .grid-container {
    @apply w-full flex justify-center items-center overflow-visible p-4;
    -webkit-tap-highlight-color: transparent;
    /* Add padding to ensure shadow is visible */
    padding-right: 6px;
    padding-bottom: 6px;
  }

  /* Grid Cells */
  .cell {
    width: 100%;
    height: 100%;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    font-size: 1.25rem;
    font-weight: bold;
    color: #000;
    box-sizing: border-box;
    border: 1px solid #000; /* Consistent single border */
}



  .cell span {
    @apply z-10;
    visibility: visible;
  }

  .cell::before {
    content: '';
    @apply absolute inset-0 bg-transparent transition-all duration-200;
    border-radius: 2px;
    z-index: -1;
  }

  .cell:not(.blackout):hover::before {
    @apply bg-blue-50;
  }

  .cell:active::before {
    @apply bg-blue-100;
  }

  .cell.blackout {
    background: #000;
    border-right: 1px solid #000;
    border-bottom: 1px solid #000;
  }

  .cell.blackout span {
    visibility: hidden;
  }

  .cell.peek.hint-blackout {
    background: #111;
    border-right: 1px solid #000;
    border-bottom: 1px solid #000;
  }

  .cell.peek.hint-blackout span {
    visibility: hidden;
  }

  /* Cell hover and active states */
  .cell:not(.blackout):hover {
    background-color: #f0f7ff;
  }

  .cell:not(.blackout):active {
    background-color: #e6f0ff;
  }

  /* Controls Section */
  .controls-section {
    @apply flex flex-wrap gap-4 justify-center my-6 w-full px-4;
  }

  /* Buttons */
  .btn {
    @apply px-8 py-4 rounded-lg font-bold transition-all inline-flex items-center justify-center gap-3 border-none cursor-pointer shadow-md text-lg;
    min-width: 160px;
    font-family: 'Playfair Display', serif;
    letter-spacing: 0.03em;
  }

  .btn:active {
    @apply transform scale-95;
  }

  .btn.btn-primary {
    background: linear-gradient(145deg, var(--primary-color), var(--primary-hover));
    @apply text-white;
  }

  .btn.btn-secondary {
    background: linear-gradient(145deg, var(--secondary-color), #2a2a2b);
    @apply text-white;
  }

  .btn i {
    @apply text-xl;
  }

  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .controls-section {
    @apply flex flex-wrap gap-5 justify-center my-8 w-full px-4;
  }

  /* Clues Section */
  .clues-section {
    @apply bg-gray-50 p-6 rounded-xl overflow-y-auto;
    height: calc(100vh - 400px);
    max-height: 600px;
    border: 2px solid #000;
    box-shadow: 0 4px 12px -1px rgba(0, 0, 0, 0.15);
  }

  .clues-title {
    @apply text-2xl font-bold mb-6 pb-3 flex items-center gap-3;
    font-family: 'Playfair Display', serif;
    border-bottom: 2px solid #000;
    letter-spacing: 0.03em;
  }

  .clues-title i {
    @apply text-[var(--primary-color)] text-2xl;
  }

  .clues-list {
    @apply space-y-3;
  }

  .clue-item {
    @apply p-4 bg-white rounded-lg transition-all text-lg;
    border: 2px solid #000;
    font-family: 'Playfair Display', serif;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.2);
  }

  .clue-item:hover {
    @apply -translate-y-0.5 shadow-md;
    border-color: var(--primary-color);
  }

  .clue-item.solved {
    @apply font-medium;
    color: var(--success-color);
    border-color: var(--success-color);
    background: linear-gradient(to right, #ffffff, #f0fff4);
  }

  /* Messages */
  .message {
    @apply text-center p-4 rounded-lg mt-4 hidden w-full font-medium shadow-sm;
    font-family: 'Playfair Display', serif;
  }

  .message.success {
    @apply block bg-green-100 text-[var(--success-color)] border-2 border-green-200;
  }

  .message.error {
    @apply block bg-red-100 text-[var(--error-color)] border-2 border-red-200;
  }
}

/* Animations */



/* Responsive Styles */
@media (max-width: 768px) {
  .welcome-card {
    @apply min-h-screen w-full m-0 rounded-none;
  }

  .btn {
    @apply flex-1 justify-center;
  }

  .cell {
    @apply text-sm;
  }

  .clues-section {
    height: auto;
    max-height: 300px;
  }

  
}

/* Touch Device Optimizations */
@media (hover: none) and (pointer: coarse) {
  .cell:hover::before {
    background: transparent;
  }

  .cell:active::before {
    @apply bg-blue-50;
  }

  .btn:hover {
    transform: none;
  }

  .feature-box:hover {
    transform: none;
  }
}